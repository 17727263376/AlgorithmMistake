# 统计元音字母序列
给你一个整数 n，请你帮忙统计一下我们可以按下述规则形成多少个长度为 n 的字符串：

字符串中的每个字符都应当是小写元音字母（'a', 'e', 'i', 'o', 'u'）
- 每个元音 'a' 后面都只能跟着 'e'
- 每个元音 'e' 后面只能跟着 'a' 或者是 'i'
- 每个元音 'i' 后面 不能 再跟着另一个 'i'
- 每个元音 'o' 后面只能跟着 'i' 或者是 'u'
- 每个元音 'u' 后面只能跟着 'a'

由于答案可能会很大，所以请你返回 模 10^9 + 7 之后的结果。

- - -
示例 1：

输入：n = 1

输出：5

解释：所有可能的字符串分别是："a", "e", "i" , "o" 和 "u"。
- - -
示例 2：

输入：n = 2

输出：10

解释：所有可能的字符串分别是："ae", "ea", "ei", "ia", "ie", "io", "iu", "oi", "ou" 和 "ua"。
- - -
**思路：**

这题很明显暴力破解是行不通的，所以需要考虑其他的方法，这里需要运用动态规划的一点思想，这样更有利于找到解题的规律

考虑n-1的情况，如果我们知道了n-1可以组成的最大的序列，那么可以找到求n的规律为：

**设Sn为n的最大序列，C(ch)表示n-1序列末尾字母为'ch'的个数**

**Sn = C(a)\*1 + C(e)\*2 + C(i)\*4 + C(o)\*2 + C(u)\*1**

所以这个问题就转换为如何知道n-1的所有情况中，末尾为aeiou各个字母的个数。这样就可以套用上面公式计算得到n的结果。

根据题目描述，

可以产生末尾a的情况是eiu三个字符，

产生末尾e的情况是ai两个字符，

产生末尾i的情况是eo两个字符，

产生末尾o的情况是i一个字符，

产生末尾u的情况是io两个字符。

找到了上述规律以后，就是一个很简单的迭代代码实现了。

**PS:这里所产生的中间数都是非常大的，需要时时刻刻进行MOD运算，否则会出现溢出**

```
class Solution {
public:
    int MOD = 1000000007;
    long long sum = 0;
    int countVowelPermutation(int n) {
        if(n == 1)  return 5;
        long long ca, ce, ci, co, cu;
        long long ta, te, ti, to, tu;
        ca = ce = ci = co = cu = 1;
        for(int i = 2; i <= n; i++){
            sum = (ca + ce*2 + ci*4 + co*2 + cu)%MOD;
            ta = (ce+ci+cu)%MOD;
            te = (ca+ci)%MOD;
            ti = (ce+co)%MOD;
            to = ci%MOD;
            tu = (ci+co)%MOD;
            ca = ta;
            ce = te;
            ci = ti;
            co = to;
            cu = tu;
        }
        return sum;
    }
};
```